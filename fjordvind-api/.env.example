# ============================================
# FjordVind FjordVind API - Environment Variables
# ============================================
# Copy this file to .env and fill in the values

# ============================================
# General
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# Database (PostgreSQL)
# ============================================
# Option 1: Full connection URL (preferred)
DATABASE_URL=postgres://fjordvind:your-secure-password@localhost:5432/fjordvind

# Option 2: Individual components (if DATABASE_URL not set)
DB_HOST=localhost
DB_PORT=5432
DB_USER=fjordvind
DB_PASSWORD=your-secure-password
DB_NAME=fjordvind

# SQLite fallback (for development only)
# DB_TYPE=sqlite
# SQLITE_FILE=./data/fjordvind.db

# ============================================
# Authentication (REQUIRED)
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-64-character-secret-key-here
JWT_EXPIRES_IN=24h

# ============================================
# BarentsWatch API (REQUIRED for lice data)
# ============================================
# Register at: https://www.barentswatch.no/minside/
BARENTSWATCH_CLIENT_ID=your-client-id
BARENTSWATCH_CLIENT_SECRET=your-client-secret

# ============================================
# Push Notifications (Optional)
# ============================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=mailto:admin@your-domain.no

# ============================================
# Email Configuration (Optional)
# ============================================
# Provider: 'console' (dev), 'smtp', or 'sendgrid'
EMAIL_PROVIDER=console
EMAIL_FROM=noreply@fjordvind.no
EMAIL_FROM_NAME=FjordVind FjordVind

# SMTP Settings (if EMAIL_PROVIDER=smtp)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password

# SendGrid Settings (if EMAIL_PROVIDER=sendgrid)
SENDGRID_API_KEY=your-sendgrid-api-key

# ============================================
# SMS (Optional - Twilio)
# ============================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# Redis Cache (Optional)
# ============================================
# REDIS_URL=redis://:password@localhost:6379

# ============================================
# Application URLs
# ============================================
APP_URL=https://fjordvind.fjordvind.no
API_URL=https://api.fjordvind.fjordvind.no
CORS_ORIGIN=https://fjordvind.fjordvind.no

# ============================================
# Error Monitoring (Optional)
# ============================================
# Sentry DSN for error tracking
SENTRY_DSN=

# ============================================
# Feature Flags
# ============================================
# Enable/disable prediction scheduler (runs daily at 06:00)
ENABLE_PREDICTION_SCHEDULER=true

# Demo mode (shows sample data, disabled in production)
DEMO_MODE=false

# ============================================
# Rate Limiting
# ============================================
# Max requests per 15 minutes for general endpoints
RATE_LIMIT_GENERAL=100

# Max login attempts per 15 minutes
RATE_LIMIT_AUTH=10

# ============================================
# Logging
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# Docker-specific (used by docker-compose.yml)
# ============================================
# These override the individual DB settings above
# DB_USER=fjordvind
# DB_PASSWORD=secure-password
# DB_NAME=fjordvind
# REDIS_PASSWORD=redis-password
# API_PORT=3000
