
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for android/app/src/main/assets/public/assets/MapPage-DwsVUfgB.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../../index.html">All files</a> / <a href="index.html">android/app/src/main/assets/public/assets</a> MapPage-DwsVUfgB.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/14</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/14</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >import{g as he,c as X,r as k,j as n,R as ee,a as Xe}from"./index-Cv4P48Md.js";import{l as Q,C as Qe,L as $e,a as et,c as tt,b as Pe,d as it,e as nt,f as st,g as rt,h as xe,i as ot,j as at,k as lt,m as dt,n as ct,o as ye,p as ut,q as ht,r as ve,u as Oe,s as pt,t as ft,v as gt,w as mt,x as _t,y as xt,z as yt,M as vt,T as Lt,P as ce,A as Ct,B as ue,D as ze,E as kt}from"./leaflet-DUoRppxf.js";function Be(u){return u.split(" ").filter(Boolean)}function Fe(u,h){Be(h).forEach(p=&gt;{Q.DomUtil.addClass(u,p)})}function Re(u,h){Be(h).forEach(p=&gt;{Q.DomUtil.removeClass(u,p)})}function St(u,h,p){u!=null&amp;&amp;p!==h&amp;&amp;(h!=null&amp;&amp;h.length&gt;0&amp;&amp;Re(u,h),p!=null&amp;&amp;p.length&gt;0&amp;&amp;Fe(u,p))}function bt(u,h,p){h.bounds instanceof Q.LatLngBounds&amp;&amp;h.bounds!==p.bounds&amp;&amp;u.setBounds(h.bounds),h.opacity!=null&amp;&amp;h.opacity!==p.opacity&amp;&amp;u.setOpacity(h.opacity),h.zIndex!=null&amp;&amp;h.zIndex!==p.zIndex&amp;&amp;u.setZIndex(h.zIndex)}const jt=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:Qe,LeafletContext:$e,LeafletProvider:et,addClassName:Fe,createContainerComponent:tt,createControlComponent:Pe,createControlHook:it,createDivOverlayComponent:nt,createDivOverlayHook:st,createElementHook:rt,createElementObject:xe,createLayerComponent:ot,createLayerHook:at,createLeafComponent:lt,createLeafletContext:dt,createOverlayComponent:ct,createPathComponent:ye,createPathHook:ut,createTileLayerComponent:ht,extendContext:ve,removeClassName:Re,updateCircle:Oe,updateClassName:St,updateGridLayer:pt,updateMediaOverlay:bt,useAttribution:ft,useEventHandlers:gt,useLayerLifecycle:mt,useLeafletContext:_t,usePathOptions:xt,withPane:yt},Symbol.toStringTag,{value:"Module"})),wt=ye(function({center:h,children:p,...g},_){const e=new Q.CircleMarker(h,g);return xe(e,ve(_,{overlayContainer:e}))},Oe),Ee=ye(function({positions:h,...p},g){const _=new Q.Polygon(h,p);return xe(_,ve(g,{overlayContainer:_}))},function(h,p,g){p.positions!==g.positions&amp;&amp;h.setLatLngs(p.positions)}),Mt=Pe(function(h){return new Q.Control.Zoom(h)});var Ne={};const At=he(jt);var Ie={exports:{}};(function(u,h){(function(p,g){g(h)})(X,function(p){var g=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&amp;&amp;this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&amp;&amp;this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,i=this._zoom;if(e.__parent)for(;t.__parent._zoom&gt;=i;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&amp;&amp;(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&amp;&amp;(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&amp;&amp;(this._featureGroup.removeLayer(e),e.clusterShow&amp;&amp;e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&amp;&amp;this.hasLayer(e)&amp;&amp;this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var i=this._featureGroup,s=this._nonPointGroup,o=this.options.chunkedLoading,l=this.options.chunkInterval,r=this.options.chunkProgress,c=e.length,d=0,f=!0,y;if(this._map){var j=new Date().getTime(),m=L.bind(function(){var A=new Date().getTime();for(this._map&amp;&amp;this._unspiderfy&amp;&amp;this._unspiderfy();d&lt;c;d++){if(o&amp;&amp;d%200===0){var z=new Date().getTime()-A;if(z&gt;l)break}if(y=e[d],y instanceof L.LayerGroup){f&amp;&amp;(e=e.slice(),f=!1),this._extractNonGroupLayers(y,e),c=e.length;continue}if(!y.getLatLng){s.addLayer(y),t||this.fire("layeradd",{layer:y});continue}if(!this.hasLayer(y)&amp;&amp;(this._addLayer(y,this._maxZoom),t||this.fire("layeradd",{layer:y}),y.__parent&amp;&amp;y.__parent.getChildCount()===2)){var B=y.__parent.getAllChildMarkers(),M=B[0]===y?B[1]:B[0];i.removeLayer(M)}}r&amp;&amp;r(d,c,new Date().getTime()-j),d===c?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(m,this.options.chunkDelay)},this);m()}else for(var v=this._needsClustering;d&lt;c;d++){if(y=e[d],y instanceof L.LayerGroup){f&amp;&amp;(e=e.slice(),f=!1),this._extractNonGroupLayers(y,e),c=e.length;continue}if(!y.getLatLng){s.addLayer(y);continue}this.hasLayer(y)||v.push(y)}return this},removeLayers:function(e){var t,i,s=e.length,o=this._featureGroup,l=this._nonPointGroup,r=!0;if(!this._map){for(t=0;t&lt;s;t++){if(i=e[t],i instanceof L.LayerGroup){r&amp;&amp;(e=e.slice(),r=!1),this._extractNonGroupLayers(i,e),s=e.length;continue}this._arraySplice(this._needsClustering,i),l.removeLayer(i),this.hasLayer(i)&amp;&amp;this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i})}return this}if(this._unspiderfy){this._unspiderfy();var c=e.slice(),d=s;for(t=0;t&lt;d;t++){if(i=c[t],i instanceof L.LayerGroup){this._extractNonGroupLayers(i,c),d=c.length;continue}this._unspiderfyLayer(i)}}for(t=0;t&lt;s;t++){if(i=e[t],i instanceof L.LayerGroup){r&amp;&amp;(e=e.slice(),r=!1),this._extractNonGroupLayers(i,e),s=e.length;continue}if(!i.__parent){l.removeLayer(i),this.fire("layerremove",{layer:i});continue}this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),o.hasLayer(i)&amp;&amp;(o.removeLayer(i),i.clusterShow&amp;&amp;i.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&amp;&amp;this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&amp;&amp;this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&amp;&amp;e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t&gt;=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var i=this._needsClustering.slice(),s=this._needsRemoving,o,l,r;for(this._topClusterLevel&amp;&amp;this._topClusterLevel.getAllChildMarkers(i),l=i.length-1;l&gt;=0;l--){for(o=!0,r=s.length-1;r&gt;=0;r--)if(s[r].layer===i[l]){o=!1;break}o&amp;&amp;e.call(t,i[l])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(i){L.stamp(i)===e&amp;&amp;(t=i)}),t},hasLayer:function(e){if(!e)return!1;var t,i=this._needsClustering;for(t=i.length-1;t&gt;=0;t--)if(i[t]===e)return!0;for(i=this._needsRemoving,t=i.length-1;t&gt;=0;t--)if(i[t].layer===e)return!1;return!!(e.__parent&amp;&amp;e.__parent._group===this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var i=this._map;typeof t!="function"&amp;&amp;(t=function(){});var s=function(){(i.hasLayer(e)||i.hasLayer(e.__parent))&amp;&amp;!this._inZoomAnimation&amp;&amp;(this._map.off("moveend",s,this),this.off("animationend",s,this),i.hasLayer(e)?t():e.__parent._icon&amp;&amp;(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&amp;&amp;this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom&lt;Math.round(this._map._zoom)?(this._map.on("moveend",s,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",s,this),this.on("animationend",s,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,i,s;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,i=this._needsRemoving.length;t&lt;i;t++)s=this._needsRemoving[t],s.newlatlng=s.layer._latlng,s.layer._latlng=s.latlng;for(t=0,i=this._needsRemoving.length;t&lt;i;t++)s=this._needsRemoving[t],this._removeLayer(s.layer,!0),s.layer._latlng=s.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&amp;&amp;this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&amp;&amp;this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&amp;&amp;!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var i=e.length-1;i&gt;=0;i--)if(e[i]===t)return e.splice(i,1),!0},_removeFromGridUnclustered:function(e,t){for(var i=this._map,s=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());t&gt;=o&amp;&amp;s[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&amp;&amp;!e.target.__dragStart){var t=e.target._popup&amp;&amp;e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&amp;&amp;e.target.openPopup()}},_moveChild:function(e,t,i){e._latlng=t,this.removeLayer(e),e._latlng=i,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&amp;&amp;this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,i){var s=this._gridClusters,o=this._gridUnclustered,l=this._featureGroup,r=this._map,c=Math.floor(this._map.getMinZoom());t&amp;&amp;this._removeFromGridUnclustered(e,this._maxZoom);var d=e.__parent,f=d._markers,y;for(this._arraySplice(f,e);d&amp;&amp;(d._childCount--,d._boundsNeedUpdate=!0,!(d._zoom&lt;c));)t&amp;&amp;d._childCount&lt;=1?(y=d._markers[0]===e?d._markers[1]:d._markers[0],s[d._zoom].removeObject(d,r.project(d._cLatLng,d._zoom)),o[d._zoom].addObject(y,r.project(y.getLatLng(),d._zoom)),this._arraySplice(d.__parent._childClusters,d),d.__parent._markers.push(y),y.__parent=d.__parent,d._icon&amp;&amp;(l.removeLayer(d),i||l.addLayer(y))):d._iconNeedsUpdate=!0,d=d.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,i){if(t&amp;&amp;t.layer instanceof L.MarkerCluster){if(t.originalEvent&amp;&amp;this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,i)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),i=" marker-cluster-";return t&lt;10?i+="small":t&lt;100?i+="medium":i+="large",new L.DivIcon({html:"&lt;div&gt;&lt;span&gt;"+t+"&lt;/span&gt;&lt;/div&gt;",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom;(t||s||o)&amp;&amp;this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),i&amp;&amp;(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,i=t;if(!(e.type==="clusterkeypress"&amp;&amp;e.originalEvent&amp;&amp;e.originalEvent.keyCode!==13)){for(;i._childClusters.length===1;)i=i._childClusters[0];i._zoom===this._maxZoom&amp;&amp;i._childCount===t._childCount&amp;&amp;this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&amp;&amp;t.zoomToBounds(),this.options.spiderfyOnEveryZoom&amp;&amp;t.spiderfy(),e.originalEvent&amp;&amp;e.originalEvent.keyCode===13&amp;&amp;this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&amp;&amp;t.removeLayer(this._shownPolygon),e.layer.getChildCount()&gt;2&amp;&amp;e.layer!==this._spiderfied&amp;&amp;(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&amp;&amp;(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,s=this.options.spiderfyOnEveryZoom,o=this._map;(e||i||s)&amp;&amp;this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&amp;&amp;(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),o.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&amp;&amp;(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,s=i;typeof i!="function"&amp;&amp;(s=function(){return i}),this.options.disableClusteringAtZoom!==null&amp;&amp;(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var o=e;o&gt;=t;o--)this._gridClusters[o]=new L.DistanceGrid(s(o)),this._gridUnclustered[o]=new L.DistanceGrid(s(o));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var i=this._gridClusters,s=this._gridUnclustered,o=Math.floor(this._map.getMinZoom()),l,r;for(this.options.singleMarkerMode&amp;&amp;this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t&gt;=o;t--){l=this._map.project(e.getLatLng(),t);var c=i[t].getNearObject(l);if(c){c._addChild(e),e.__parent=c;return}if(c=s[t].getNearObject(l),c){var d=c.__parent;d&amp;&amp;this._removeLayer(c,!1);var f=new this._markerCluster(this,t,c,e);i[t].addObject(f,this._map.project(f._cLatLng,t)),c.__parent=f,e.__parent=f;var y=f;for(r=t-1;r&gt;d._zoom;r--)y=new this._markerCluster(this,r,y),i[r].addObject(y,this._map.project(c.getLatLng(),r));d._addChild(y),this._removeFromGridUnclustered(c,t);return}s[t].addObject(e,l)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&amp;&amp;e._iconNeedsUpdate&amp;&amp;e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e&lt;this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom&lt;e&amp;&amp;this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom&gt;e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==void 0&amp;&amp;(e.getNorth()&gt;=t&amp;&amp;(e._northEast.lat=1/0),e.getSouth()&lt;=-t&amp;&amp;(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(t._childCount===2){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var i=e.getLayers(),s=0,o;for(t=t||[];s&lt;i.length;s++){if(o=i[s],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,t);continue}t.push(o)}return t},_overrideMarkerIcon:function(e){var t=e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}});return t}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var i=this._getExpandedVisibleBounds(),s=this._featureGroup,o=Math.floor(this._map.getMinZoom()),l;this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,o,function(r){var c=r._latlng,d=r._markers,f;for(i.contains(c)||(c=null),r._isSingleParent()&amp;&amp;e+1===t?(s.removeLayer(r),r._recursivelyAddChildrenToMap(null,t,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(c,t,i)),l=d.length-1;l&gt;=0;l--)f=d[l],i.contains(f._latlng)||s.removeLayer(f)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,t),s.eachLayer(function(r){!(r instanceof L.MarkerCluster)&amp;&amp;r._icon&amp;&amp;r.clusterShow()}),this._topClusterLevel._recursively(i,e,t,function(r){r._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,e,o,function(r){s.removeLayer(r),r.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var i=this,s=this._featureGroup;s.addLayer(e),t!==e&amp;&amp;(t._childCount&gt;2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){s.removeLayer(e),e.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,i){var s=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(s,o,t+1,i);var l=this;this._forceLayout(),e._recursivelyBecomeVisible(s,i),this._enqueue(function(){if(e._childCount===1){var r=e._markers[0];this._ignoreMove=!0,r.setLatLng(r.getLatLng()),this._ignoreMove=!1,r.clusterShow&amp;&amp;r.clusterShow()}else e._recursively(s,i,o,function(c){c._recursivelyRemoveChildrenFromMap(s,o,t+1)});l._animationEnd()})},_animationEnd:function(){this._map&amp;&amp;(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var _=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,i,s){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&amp;&amp;this._addChild(i),s&amp;&amp;this._addChild(s)},getAllChildMarkers:function(e,t){e=e||[];for(var i=this._childClusters.length-1;i&gt;=0;i--)this._childClusters[i].getAllChildMarkers(e,t);for(var s=this._markers.length-1;s&gt;=0;s--)t&amp;&amp;this._markers[s].__dragStart||e.push(this._markers[s]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t=this._childClusters.slice(),i=this._group._map,s=i.getBoundsZoom(this._bounds),o=this._zoom+1,l=i.getZoom(),r;t.length&gt;0&amp;&amp;s&gt;o;){o++;var c=[];for(r=0;r&lt;t.length;r++)c=c.concat(t[r]._childClusters);t=c}s&gt;o?this._group._map.setView(this._latlng,o):s&lt;=l?this._group._map.setView(this._latlng,l+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&amp;&amp;this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&amp;&amp;(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&amp;&amp;this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&amp;&amp;(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&amp;&amp;(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e=this._markers,t=this._childClusters,i=0,s=0,o=this._childCount,l,r,c,d;if(o!==0){for(this._resetBounds(),l=0;l&lt;e.length;l++)c=e[l]._latlng,this._bounds.extend(c),i+=c.lat,s+=c.lng;for(l=0;l&lt;t.length;l++)r=t[l],r._boundsNeedUpdate&amp;&amp;r._recalculateBounds(),this._bounds.extend(r._bounds),c=r._wLatLng,d=r._childCount,i+=c.lat*d,s+=c.lng*d;this._latlng=this._wLatLng=new L.LatLng(i/o,s/o),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&amp;&amp;(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,i){this._recursively(e,this._group._map.getMinZoom(),i-1,function(s){var o=s._markers,l,r;for(l=o.length-1;l&gt;=0;l--)r=o[l],r._icon&amp;&amp;(r._setPos(t),r.clusterHide())},function(s){var o=s._childClusters,l,r;for(l=o.length-1;l&gt;=0;l--)r=o[l],r._icon&amp;&amp;(r._setPos(t),r.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i,s){this._recursively(e,s,t,function(o){o._recursivelyAnimateChildrenIn(e,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),i),o._isSingleParent()&amp;&amp;i-1===s?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(e,t,i)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(i){i.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){this._recursively(i,this._group._map.getMinZoom()-1,t,function(s){if(t!==s._zoom)for(var o=s._markers.length-1;o&gt;=0;o--){var l=s._markers[o];i.contains(l._latlng)&amp;&amp;(e&amp;&amp;(l._backupLatlng=l.getLatLng(),l.setLatLng(e),l.clusterHide&amp;&amp;l.clusterHide()),s._group._featureGroup.addLayer(l))}},function(s){s._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t&gt;=0;t--){var i=this._markers[t];i._backupLatlng&amp;&amp;(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(e-1===this._zoom)for(var s=this._childClusters.length-1;s&gt;=0;s--)this._childClusters[s]._restorePosition();else for(var o=this._childClusters.length-1;o&gt;=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&amp;&amp;(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i,s){var o,l;this._recursively(e,t-1,i-1,function(r){for(l=r._markers.length-1;l&gt;=0;l--)o=r._markers[l],(!s||!s.contains(o._latlng))&amp;&amp;(r._group._featureGroup.removeLayer(o),o.clusterShow&amp;&amp;o.clusterShow())},function(r){for(l=r._childClusters.length-1;l&gt;=0;l--)o=r._childClusters[l],(!s||!s.contains(o._latlng))&amp;&amp;(r._group._featureGroup.removeLayer(o),o.clusterShow&amp;&amp;o.clusterShow())})},_recursively:function(e,t,i,s,o){var l=this._childClusters,r=this._zoom,c,d;if(t&lt;=r&amp;&amp;(s&amp;&amp;s(this),o&amp;&amp;r===i&amp;&amp;o(this)),r&lt;t||r&lt;i)for(c=l.length-1;c&gt;=0;c--)d=l[c],d._boundsNeedUpdate&amp;&amp;d._recalculateBounds(),e.intersects(d._bounds)&amp;&amp;d._recursively(e,t,i,s,o)},_isSingleParent:function(){return this._childClusters.length&gt;0&amp;&amp;this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var i=this._getCoord(t.x),s=this._getCoord(t.y),o=this._grid,l=o[s]=o[s]||{},r=l[i]=l[i]||[],c=L.Util.stamp(e);this._objectPoint[c]=t,r.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var i=this._getCoord(t.x),s=this._getCoord(t.y),o=this._grid,l=o[s]=o[s]||{},r=l[i]=l[i]||[],c,d;for(delete this._objectPoint[L.Util.stamp(e)],c=0,d=r.length;c&lt;d;c++)if(r[c]===e)return r.splice(c,1),d===1&amp;&amp;delete l[i],!0},eachObject:function(e,t){var i,s,o,l,r,c,d,f=this._grid;for(i in f){r=f[i];for(s in r)for(c=r[s],o=0,l=c.length;o&lt;l;o++)d=e.call(t,c[o]),d&amp;&amp;(o--,l--)}},getNearObject:function(e){var t=this._getCoord(e.x),i=this._getCoord(e.y),s,o,l,r,c,d,f,y,j=this._objectPoint,m=this._sqCellSize,v=null;for(s=i-1;s&lt;=i+1;s++)if(r=this._grid[s],r){for(o=t-1;o&lt;=t+1;o++)if(c=r[o],c)for(l=0,d=c.length;l&lt;d;l++)f=c[l],y=this._sqDist(j[L.Util.stamp(f)],e),(y&lt;m||y&lt;=m&amp;&amp;v===null)&amp;&amp;(m=y,v=f)}return v},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var i=t.x-e.x,s=t.y-e.y;return i*i+s*s}},function(){L.QuickHull={getDistant:function(e,t){var i=t[1].lat-t[0].lat,s=t[0].lng-t[1].lng;return s*(e.lat-t[0].lat)+i*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var i=0,s=null,o=[],l,r,c;for(l=t.length-1;l&gt;=0;l--){if(r=t[l],c=this.getDistant(r,e),c&gt;0)o.push(r);else continue;c&gt;i&amp;&amp;(i=c,s=r)}return{maxPoint:s,newPoints:o}},buildConvexHull:function(e,t){var i=[],s=this.findMostDistantPointFromBaseLine(e,t);return s.maxPoint?(i=i.concat(this.buildConvexHull([e[0],s.maxPoint],s.newPoints)),i=i.concat(this.buildConvexHull([s.maxPoint,e[1]],s.newPoints)),i):[e[0]]},getConvexHull:function(e){var t=!1,i=!1,s=!1,o=!1,l=null,r=null,c=null,d=null,f=null,y=null,j;for(j=e.length-1;j&gt;=0;j--){var m=e[j];(t===!1||m.lat&gt;t)&amp;&amp;(l=m,t=m.lat),(i===!1||m.lat&lt;i)&amp;&amp;(r=m,i=m.lat),(s===!1||m.lng&gt;s)&amp;&amp;(c=m,s=m.lng),(o===!1||m.lng&lt;o)&amp;&amp;(d=m,o=m.lng)}i!==t?(y=r,f=l):(y=d,f=c);var v=[].concat(this.buildConvexHull([y,f],e),this.buildConvexHull([f,y],e));return v}}}(),L.MarkerCluster.include({getConvexHull:function(){var e=this.getAllChildMarkers(),t=[],i,s;for(s=e.length-1;s&gt;=0;s--)i=e[s].getLatLng(),t.push(i);return L.QuickHull.getConvexHull(t)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var e=this.getAllChildMarkers(null,!0),t=this._group,i=t._map,s=i.latLngToLayerPoint(this._latlng),o;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?o=this._group.options.spiderfyShapePositions(e.length,s):e.length&gt;=this._circleSpiralSwitchover?o=this._generatePointsSpiral(e.length,s):(s.y+=10,o=this._generatePointsCircle(e.length,s)),this._animationSpiderfy(e,o)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),s=i/this._2PI,o=this._2PI/e,l=[],r,c;for(s=Math.max(s,35),l.length=e,r=0;r&lt;e;r++)c=this._circleStartAngle+r*o,l[r]=new L.Point(t.x+s*Math.cos(c),t.y+s*Math.sin(c))._round();return l},_generatePointsSpiral:function(e,t){var i=this._group.options.spiderfyDistanceMultiplier,s=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,l=i*this._spiralLengthFactor*this._2PI,r=0,c=[],d;for(c.length=e,d=e;d&gt;=0;d--)d&lt;e&amp;&amp;(c[d]=new L.Point(t.x+s*Math.cos(r),t.y+s*Math.sin(r))._round()),r+=o/s+d*5e-4,s+=l/r;return c},_noanimationUnspiderfy:function(){var e=this._group,t=e._map,i=e._featureGroup,s=this.getAllChildMarkers(null,!0),o,l;for(e._ignoreMove=!0,this.setOpacity(1),l=s.length-1;l&gt;=0;l--)o=s[l],i.removeLayer(o),o._preSpiderfyLatlng&amp;&amp;(o.setLatLng(o._preSpiderfyLatlng),delete o._preSpiderfyLatlng),o.setZIndexOffset&amp;&amp;o.setZIndexOffset(0),o._spiderLeg&amp;&amp;(t.removeLayer(o._spiderLeg),delete o._spiderLeg);e.fire("unspiderfied",{cluster:this,markers:s}),e._ignoreMove=!1,e._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var i=this._group,s=i._map,o=i._featureGroup,l=this._group.options.spiderLegPolylineOptions,r,c,d,f;for(i._ignoreMove=!0,r=0;r&lt;e.length;r++)f=s.layerPointToLatLng(t[r]),c=e[r],d=new L.Polyline([this._latlng,f],l),s.addLayer(d),c._spiderLeg=d,c._preSpiderfyLatlng=c._latlng,c.setLatLng(f),c.setZIndexOffset&amp;&amp;c.setZIndexOffset(1e6),o.addLayer(c);this.setOpacity(.3),i._ignoreMove=!1,i.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var i=this,s=this._group,o=s._map,l=s._featureGroup,r=this._latlng,c=o.latLngToLayerPoint(r),d=L.Path.SVG,f=L.extend({},this._group.options.spiderLegPolylineOptions),y=f.opacity,j,m,v,A,z,B;for(y===void 0&amp;&amp;(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),d?(f.opacity=0,f.className=(f.className||"")+" leaflet-cluster-spider-leg"):f.opacity=y,s._ignoreMove=!0,j=0;j&lt;e.length;j++)m=e[j],B=o.layerPointToLatLng(t[j]),v=new L.Polyline([r,B],f),o.addLayer(v),m._spiderLeg=v,d&amp;&amp;(A=v._path,z=A.getTotalLength()+.1,A.style.strokeDasharray=z,A.style.strokeDashoffset=z),m.setZIndexOffset&amp;&amp;m.setZIndexOffset(1e6),m.clusterHide&amp;&amp;m.clusterHide(),l.addLayer(m),m._setPos&amp;&amp;m._setPos(c);for(s._forceLayout(),s._animationStart(),j=e.length-1;j&gt;=0;j--)B=o.layerPointToLatLng(t[j]),m=e[j],m._preSpiderfyLatlng=m._latlng,m.setLatLng(B),m.clusterShow&amp;&amp;m.clusterShow(),d&amp;&amp;(v=m._spiderLeg,A=v._path,A.style.strokeDashoffset=0,v.setStyle({opacity:y}));this.setOpacity(.3),s._ignoreMove=!1,setTimeout(function(){s._animationEnd(),s.fire("spiderfied",{cluster:i,markers:e})},200)},_animationUnspiderfy:function(e){var t=this,i=this._group,s=i._map,o=i._featureGroup,l=e?s._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):s.latLngToLayerPoint(this._latlng),r=this.getAllChildMarkers(null,!0),c=L.Path.SVG,d,f,y,j,m,v;for(i._ignoreMove=!0,i._animationStart(),this.setOpacity(1),f=r.length-1;f&gt;=0;f--)d=r[f],d._preSpiderfyLatlng&amp;&amp;(d.closePopup(),d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng,v=!0,d._setPos&amp;&amp;(d._setPos(l),v=!1),d.clusterHide&amp;&amp;(d.clusterHide(),v=!1),v&amp;&amp;o.removeLayer(d),c&amp;&amp;(y=d._spiderLeg,j=y._path,m=j.getTotalLength()+.1,j.style.strokeDashoffset=m,y.setStyle({opacity:0})));i._ignoreMove=!1,setTimeout(function(){var A=0;for(f=r.length-1;f&gt;=0;f--)d=r[f],d._spiderLeg&amp;&amp;A++;for(f=r.length-1;f&gt;=0;f--)d=r[f],d._spiderLeg&amp;&amp;(d.clusterShow&amp;&amp;d.clusterShow(),d.setZIndexOffset&amp;&amp;d.setZIndexOffset(0),A&gt;1&amp;&amp;o.removeLayer(d),s.removeLayer(d._spiderLeg),delete d._spiderLeg);i._animationEnd(),i.fire("unspiderfied",{cluster:t,markers:r})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&amp;&amp;this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&amp;&amp;this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&amp;&amp;this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&amp;&amp;this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&amp;&amp;(this._featureGroup.removeLayer(e),e.clusterShow&amp;&amp;e.clusterShow(),e.setZIndexOffset&amp;&amp;e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&amp;&amp;(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&amp;&amp;this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,i;for(t in e)for(i=e[t].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,i;for(t in e)i=e[t],this.hasLayer(i)&amp;&amp;i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){var i=this.options.icon;return L.setOptions(i,e),this.setIcon(i),t&amp;&amp;this.__parent&amp;&amp;this.__parent._group.refreshClusters(this),this}}),p.MarkerClusterGroup=g,p.MarkerCluster=_,Object.defineProperty(p,"__esModule",{value:!0})})})(Ie,Ie.exports);const Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",It=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"})),Pt=he(It),Ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",zt=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"})),Bt=he(zt),Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Rt=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),Nt=he(Rt);var te=X&amp;&amp;X.__assign||function(){return te=Object.assign||function(u){for(var h,p=1,g=arguments.length;p&lt;g;p++){h=arguments[p];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&amp;&amp;(u[_]=h[_])}return u},te.apply(this,arguments)},Tt=X&amp;&amp;X.__rest||function(u,h){var p={};for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&amp;&amp;h.indexOf(g)&lt;0&amp;&amp;(p[g]=u[g]);if(u!=null&amp;&amp;typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(u);_&lt;g.length;_++)h.indexOf(g[_])&lt;0&amp;&amp;Object.prototype.propertyIsEnumerable.call(u,g[_])&amp;&amp;(p[g[_]]=u[g[_]]);return p},Ut=X&amp;&amp;X.__importDefault||function(u){return u&amp;&amp;u.__esModule?u:{default:u}};Object.defineProperty(Ne,"__esModule",{value:!0});var _e=At,Le=Ut(Q);delete Le.default.Icon.Default.prototype._getIconUrl;Le.default.Icon.Default.mergeOptions({iconRetinaUrl:Pt.default,iconUrl:Bt.default,shadowUrl:Nt.default});function Dt(u){var h={},p={};u.children;var g=Tt(u,["children"]);return Object.entries(g).forEach(function(_){var e,t,i=_[0],s=_[1];i.startsWith("on")?p=te(te({},p),(e={},e[i]=s,e)):h=te(te({},h),(t={},t[i]=s,t))}),{clusterProps:h,clusterEvents:p}}function Zt(u,h){var p=Dt(u),g=p.clusterProps,_=p.clusterEvents,e=new Le.default.MarkerClusterGroup(g);return Object.entries(_).forEach(function(t){var i=t[0],s=t[1],o="cluster".concat(i.substring(2).toLowerCase());e.on(o,s)}),(0,_e.createElementObject)(e,(0,_e.extendContext)(h,{layerContainer:e}))}var Gt=function(u,h,p){},Kt=(0,_e.createPathComponent)(Zt,Gt),Ht=Ne.default=Kt;delete ue.Icon.Default.prototype._getIconUrl;ue.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const se="http://localhost:3000";function Te(u){const h=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate())),p=h.getUTCDay()||7;h.setUTCDate(h.getUTCDate()+4-p);const g=new Date(Date.UTC(h.getUTCFullYear(),0,1));return Math.ceil(((h-g)/864e5+1)/7)}const Wt=({localityBoundaries:u,week:h,year:p})=&gt;{const g=k.useMemo(()=&gt;{const _=(u==null?void 0:u.features)||[],e={pd:0,ila:0,bkd:0,francisellose:0,other:0},t={overLimit:0,underLimit:0,total:0};return _.forEach(i=&gt;{var l,r;const s=((l=i.properties)==null?void 0:l.diseases)||[],o=(r=i.properties)==null?void 0:r.avgAdultFemaleLice;s.forEach(c=&gt;{c==="PANKREASSYKDOM"?e.pd++:c==="INFEKSIOES_LAKSEANEMI"?e.ila++:c==="BAKTERIELL_NYRESYKE"?e.bkd++:c==="FRANCISELLOSE"?e.francisellose++:e.other++}),o!=null&amp;&amp;(t.total++,o&gt;=.5?t.overLimit++:t.underLimit++)}),{diseaseCount:e,liceStats:t,totalLocalities:_.length}},[u]);return n.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",width:"320px",maxHeight:"calc(100% - 80px)",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 12px rgba(0,0,0,0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"12px 16px",background:"#1a3a5c",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontWeight:600,fontSize:"16px"},children:[g.totalLocalities," lokaliteter"]}),n.jsx("button",{style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"4px",fontSize:"12px"},children:"Valgt uke"})]}),n.jsx("div",{style:{padding:"12px 16px",borderBottom:"1px solid #eee",background:"#f8f9fa"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("span",{style:{color:"#1a3a5c",fontWeight:600},children:["UKE ",h||5]}),n.jsx("span",{style:{color:"#666",fontSize:"13px"},children:p||2026})]})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"0"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #eee"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#333"},children:"Lusegrensestatus"}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsxs("div",{style:{flex:1,textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#f44336"},children:g.liceStats.overLimit}),n.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"Over lusegrensen"})]}),n.jsxs("div",{style:{flex:1,textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#4CAF50"},children:g.liceStats.underLimit}),n.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"Under lusegrensen"})]})]})]}),n.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #eee"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#333"},children:"Sykdomsstatus"}),g.diseaseCount.pd&gt;0&amp;&amp;n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#7B68EE",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:g.diseaseCount.pd}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px"},children:"Pankreassykdom (PD)"}),n.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:[g.diseaseCount.pd," av lokalitetene har mistanke om eller diagnosen pankreassykdom"]})]})]}),g.diseaseCount.ila&gt;0&amp;&amp;n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#20B2AA",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:g.diseaseCount.ila}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px"},children:"Infeksis lakseanemi (ILA)"}),n.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:[g.diseaseCount.ila," av lokalitetene har mistanke om eller diagnosen infeksis lakseanemi"]})]})]}),g.diseaseCount.bkd&gt;0&amp;&amp;n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#FF6347",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:g.diseaseCount.bkd}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px"},children:"Bakteriell nyresyke (BKD)"}),n.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:[g.diseaseCount.bkd," av lokalitetene har mistanke om eller diagnosen bakteriell nyresyke"]})]})]}),g.diseaseCount.francisellose&gt;0&amp;&amp;n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px"},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#FF6347",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:g.diseaseCount.francisellose}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px"},children:"Francisellose"}),n.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:[g.diseaseCount.francisellose," av lokalitetene har diagnosen francisellose"]})]})]}),g.diseaseCount.pd===0&amp;&amp;g.diseaseCount.ila===0&amp;&amp;g.diseaseCount.bkd===0&amp;&amp;g.diseaseCount.francisellose===0&amp;&amp;n.jsx("div",{style:{color:"#888",fontSize:"13px"},children:"Ingen registrerte sykdommer denne uken"})]}),n.jsxs("div",{style:{padding:"16px"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:600,color:"#333"},children:"Datakilder"}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[n.jsx("p",{style:{margin:"4px 0"},children:" BarentsWatch Fish Health API"}),n.jsx("p",{style:{margin:"4px 0"},children:" Mattilsynet"})]})]})]})]})};function Vt({center:u,targetZoom:h}){const p=ze(),g=k.useRef(null);return k.useEffect(()=&gt;{u&amp;&amp;(!g.current||g.current.lat!==u.lat||g.current.lng!==u.lng)&amp;&amp;(g.current=u,p.setView([u.lat,u.lng],h||p.getZoom()))},[u,h,p]),null}function qt({onZoomChange:u}){const h=ze();return k.useEffect(()=&gt;{u(h.getZoom())},[]),kt({zoomend:p=&gt;{u(p.target.getZoom())}}),null}function Jt(u,h=!1){const p=h?2:1;return u&lt;=6?p+2:u&lt;=8?p+4:u&lt;=10?p+5:u&lt;=12?p+6:p+8}const Yt=({localities:u,onSelect:h,localityBoundaries:p})=&gt;{const[g,_]=k.useState(""),[e,t]=k.useState(!1),[i,s]=k.useState([]),o=k.useRef(null);k.useEffect(()=&gt;{const r=c=&gt;{o.current&amp;&amp;!o.current.contains(c.target)&amp;&amp;t(!1)};return document.addEventListener("mousedown",r),()=&gt;document.removeEventListener("mousedown",r)},[]),k.useEffect(()=&gt;{if(g.length&lt;2){s([]);return}const r=g.toLowerCase(),d=((p==null?void 0:p.features)||[]).filter(f=&gt;{var A,z,B,M;const y=(((A=f.properties)==null?void 0:A.name)||"").toLowerCase(),j=(((z=f.properties)==null?void 0:z.loknr)||"").toString(),m=(((B=f.properties)==null?void 0:B.owner)||"").toLowerCase(),v=(((M=f.properties)==null?void 0:M.municipality)||"").toLowerCase();return y.includes(r)||j.includes(r)||m.includes(r)||v.includes(r)}).slice(0,10).map(f=&gt;{var y,j,m,v,A,z;return{loknr:(y=f.properties)==null?void 0:y.loknr,name:(j=f.properties)==null?void 0:j.name,owner:(m=f.properties)==null?void 0:m.owner,municipality:(v=f.properties)==null?void 0:v.municipality,lice:(A=f.properties)==null?void 0:A.avgAdultFemaleLice,coordinates:((z=f.geometry)==null?void 0:z.type)==="Point"?f.geometry.coordinates:null}});s(d)},[g,p]);const l=r=&gt;{_(r.name),t(!1),r.coordinates&amp;&amp;h({loknr:r.loknr,lat:r.coordinates[1],lng:r.coordinates[0]})};return n.jsxs("div",{ref:o,style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1001,width:"300px"},children:[n.jsx("input",{type:"text",placeholder:"Sk lokalitet, selskap, kommune...",value:g,onChange:r=&gt;{_(r.target.value),t(!0)},onFocus:()=&gt;g.length&gt;=2&amp;&amp;t(!0),style:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",fontSize:"14px",outline:"none"}}),e&amp;&amp;i.length&gt;0&amp;&amp;n.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"4px",maxHeight:"300px",overflowY:"auto"},children:i.map((r,c)=&gt;n.jsxs("div",{onClick:()=&gt;l(r),style:{padding:"10px 14px",cursor:"pointer",borderBottom:c&lt;i.length-1?"1px solid #eee":"none",transition:"background 0.15s"},onMouseEnter:d=&gt;d.target.style.background="#f5f5f5",onMouseLeave:d=&gt;d.target.style.background="white",children:[n.jsx("div",{style:{fontWeight:600,fontSize:"13px"},children:r.name}),n.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[r.owner,"  ",r.municipality,"  Lok: ",r.loknr,r.lice!==null&amp;&amp;r.lice!==void 0&amp;&amp;n.jsxs("span",{style:{marginLeft:"8px",color:r.lice&gt;=.1?"#f44336":r.lice&gt;=.08?"#ff9800":"#4CAF50",fontWeight:600},children:[r.lice.toFixed(2)," lus"]})]})]},r.loknr||c))})]})},Xt=({showPolygons:u,setShowPolygons:h,showActualPolygons:p,setShowActualPolygons:g,filterStatus:_,setFilterStatus:e,localityBoundaries:t,allLocalities:i,selectedCompany:s,showDiseaseZones:o,setShowDiseaseZones:l,showProtectedAreas:r,setShowProtectedAreas:c,diseaseZones:d,protectedAreas:f,diseaseFilter:y,setDiseaseFilter:j,onExportCSV:m})=&gt;{var B;const[v,A]=ee.useState(!1),z=((B=t==null?void 0:t.features)==null?void 0:B.filter(M=&gt;{var re,H,oe,q;const T=(((re=M.properties)==null?void 0:re.plassering)||"").toUpperCase(),pe=(((H=M.properties)==null?void 0:H.vannmiljo)||"").toUpperCase(),G=(oe=M.properties)==null?void 0:oe.avgAdultFemaleLice,fe=(((q=M.properties)==null?void 0:q.owner)||"").toLowerCase();return!(s&amp;&amp;!fe.includes(s.toLowerCase())||!(T==="SJ"||T===""&amp;&amp;pe!=="FERSKVANN")||_!=="all"&amp;&amp;(_==="ok"&amp;&amp;(G==null||G&gt;=.08)||_==="warning"&amp;&amp;(G&lt;.08||G&gt;=.1)||_==="danger"&amp;&amp;G&lt;.1))}).length)||0;return n.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:1e3,background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",maxWidth:"260px",fontSize:"12px",color:"#222"},children:[n.jsxs("div",{onClick:()=&gt;A(!v),style:{padding:"10px 12px",background:"#1565c0",borderRadius:v?"8px 8px 0 0":"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",color:"white"},children:[n.jsx("span",{style:{fontWeight:600},children:"Kartinnstillinger"}),n.jsx("span",{style:{fontSize:"10px"},children:v?"":""})]}),!v&amp;&amp;n.jsxs("div",{style:{padding:"8px 12px",display:"flex",gap:"12px",fontSize:"11px",color:"#333",fontWeight:500},children:[n.jsxs("span",{children:[z," lok."]}),n.jsxs("span",{style:{color:"#f44336"},children:[i.filter(M=&gt;M.avgAdultFemaleLice&gt;=.1).length," fare"]}),s&amp;&amp;n.jsx("span",{style:{color:"#1565c0"},children:s})]}),v&amp;&amp;n.jsxs("div",{style:{padding:"12px",color:"#222"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:u,onChange:M=&gt;h(M.target.checked)}),n.jsx("span",{children:"Vis lokaliteter (punkter)"})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:p,onChange:M=&gt;g(M.target.checked)}),n.jsx("span",{children:"Vis lokalitetsgrenser"})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:o,onChange:M=&gt;l(M.target.checked)}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{width:"10px",height:"10px",background:"#D4A574",borderRadius:"50%",border:"1px solid #8B6914"}}),"Sykdomssoner"]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r,onChange:M=&gt;c(M.target.checked)}),n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{width:"10px",height:"10px",background:"rgba(46,139,46,0.2)",border:"2px solid #2E8B2E"}}),"Verneomrder"]})]}),n.jsxs("div",{style:{marginBottom:"10px",paddingTop:"8px",borderTop:"1px solid #eee"},children:[n.jsx("div",{style:{fontWeight:500,marginBottom:"6px"},children:"Lusestatus"}),n.jsxs("select",{value:_,onChange:M=&gt;e(M.target.value),style:{width:"100%",padding:"6px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"12px",background:"white",color:"#222"},children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"ok",children:"OK (&lt;0.08)"}),n.jsx("option",{value:"warning",children:"Advarsel (0.08-0.10)"}),n.jsx("option",{value:"danger",children:"Fare (0.10)"})]})]}),n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("div",{style:{fontWeight:500,marginBottom:"6px"},children:"Sykdomsstatus"}),n.jsxs("select",{value:y,onChange:M=&gt;j(M.target.value),style:{width:"100%",padding:"6px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"12px",background:"white",color:"#222"},children:[n.jsx("option",{value:"all",children:"Alle lokaliteter"}),n.jsx("option",{value:"any",children:"Kun med sykdom"}),n.jsx("option",{value:"none",children:"Kun uten sykdom"}),n.jsx("option",{value:"pd",children:"Pankreassykdom (PD)"}),n.jsx("option",{value:"ila",children:"Infeksis lakseanemi (ILA)"}),n.jsx("option",{value:"bkd",children:"Bakteriell nyresyke (BKD)"}),n.jsx("option",{value:"francisellose",children:"Francisellose"})]})]}),n.jsxs("div",{style:{marginTop:"10px",paddingTop:"8px",borderTop:"1px solid #eee"},children:[s&amp;&amp;n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",color:"#1565c0"},children:[n.jsx("span",{children:"Selskap:"}),n.jsx("span",{style:{fontWeight:600},children:s})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[n.jsx("span",{children:"Viser:"}),n.jsxs("span",{style:{fontWeight:600},children:[z," lok."]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",color:"#f44336"},children:[n.jsx("span",{children:"Fare (0.10):"}),n.jsx("span",{style:{fontWeight:600},children:i.filter(M=&gt;M.avgAdultFemaleLice&gt;=.1).length})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",color:"#ff9800"},children:[n.jsx("span",{children:"Advarsel:"}),n.jsx("span",{style:{fontWeight:600},children:i.filter(M=&gt;M.avgAdultFemaleLice&gt;=.08&amp;&amp;M.avgAdultFemaleLice&lt;.1).length})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#4CAF50"},children:[n.jsx("span",{children:"OK:"}),n.jsx("span",{style:{fontWeight:600},children:i.filter(M=&gt;M.avgAdultFemaleLice&lt;.08&amp;&amp;M.avgAdultFemaleLice!==null).length})]})]}),n.jsx("div",{style:{marginTop:"10px",paddingTop:"8px",borderTop:"1px solid #eee"},children:n.jsxs("button",{onClick:m,style:{width:"100%",padding:"8px 12px",borderRadius:"4px",border:"none",background:"#1565c0",color:"white",fontSize:"12px",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx("span",{children:""}),"Eksporter til CSV"]})})]})]})},Qt=({selectedYear:u,selectedWeek:h,onYearChange:p,onWeekChange:g})=&gt;{const _=new Date().getFullYear(),e=Te(new Date),[t,i]=ee.useState(!1),[s,o]=ee.useState(1e3),l=ee.useRef(null),r=Array.from({length:52},(v,A)=&gt;A+1),c=Array.from({length:_-2019},(v,A)=&gt;2020+A),d=u===_&amp;&amp;h===e,f=(_-2020)*52+e,y=(u-2020)*52+h;ee.useEffect(()=&gt;(t&amp;&amp;(l.current=setInterval(()=&gt;{h&lt;52&amp;&amp;!(u===_&amp;&amp;h&gt;=e)?g(h+1):u&lt;_?(p(u+1),g(1)):i(!1)},s)),()=&gt;{l.current&amp;&amp;clearInterval(l.current)}),[t,u,h,s,_,e,p,g]),ee.useEffect(()=&gt;{d&amp;&amp;t&amp;&amp;i(!1)},[d,t]);const j=v=&gt;{const A=parseInt(v.target.value),z=2020+Math.floor((A-1)/52),B=(A-1)%52+1;p(z),g(B)},m=()=&gt;{d?(p(u),g(1),i(!0)):i(!t)};return n.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",padding:"10px 16px",minWidth:"500px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",fontSize:"13px"},children:[n.jsx("button",{onClick:m,style:{width:"32px",height:"32px",borderRadius:"50%",border:"none",background:t?"#f44336":"#1565c0",color:"white",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:t?"Pause":"Spill av tidslinje",children:t?"":""}),n.jsx("span",{style:{fontWeight:600,color:"#1a3a5c"},children:"Uke:"}),n.jsx("select",{value:u,onChange:v=&gt;p(parseInt(v.target.value)),disabled:t,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"13px",cursor:t?"not-allowed":"pointer",opacity:t?.6:1},children:c.map(v=&gt;n.jsx("option",{value:v,children:v},v))}),n.jsx("select",{value:h,onChange:v=&gt;g(parseInt(v.target.value)),disabled:t,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"13px",cursor:t?"not-allowed":"pointer",opacity:t?.6:1},children:r.map(v=&gt;n.jsxs("option",{value:v,disabled:u===_&amp;&amp;v&gt;e,children:["Uke ",v]},v))}),n.jsxs("select",{value:s,onChange:v=&gt;o(parseInt(v.target.value)),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"12px",cursor:"pointer"},title:"Animasjonshastighet",children:[n.jsx("option",{value:2e3,children:"Sakte"}),n.jsx("option",{value:1e3,children:"Normal"}),n.jsx("option",{value:500,children:"Rask"}),n.jsx("option",{value:250,children:"Veldig rask"})]}),!d&amp;&amp;!t&amp;&amp;n.jsx("button",{onClick:()=&gt;{p(_),g(e)},style:{padding:"4px 10px",borderRadius:"4px",border:"none",background:"#1565c0",color:"white",fontSize:"12px",cursor:"pointer",fontWeight:500},children:"N"}),d&amp;&amp;n.jsx("span",{style:{color:"#4CAF50",fontSize:"12px",fontWeight:500},children:"Gjeldende uke"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"11px",color:"#666",minWidth:"50px"},children:"2020 U1"}),n.jsx("input",{type:"range",min:1,max:f,value:y,onChange:j,disabled:t,style:{flex:1,height:"6px",cursor:t?"not-allowed":"pointer",accentColor:"#1565c0"}}),n.jsxs("span",{style:{fontSize:"11px",color:"#666",minWidth:"60px",textAlign:"right"},children:[_," U",e]})]})]})};function $t({selectedLocation:u=null,selectedCompany:h=null}){var Se,be,je;const[p,g]=k.useState([]),[_,e]=k.useState(null),[t,i]=k.useState(null),[s,o]=k.useState({lat:65,lng:17}),[l]=k.useState(10),[r,c]=k.useState(5),[d,f]=k.useState(!0),[y,j]=k.useState(!1),[m,v]=k.useState(null),[A,z]=k.useState(!0),[B,M]=k.useState(!0),[T,pe]=k.useState("all"),[G,fe]=k.useState(null),[$,re]=k.useState(null),[H,oe]=k.useState(null),[q,Ue]=k.useState(!0),[ae,De]=k.useState(!0),[R,Ze]=k.useState("all"),[W,Ge]=k.useState(new Date().getFullYear()),[V,Ke]=k.useState(Te(new Date)),He=C=&gt;{fe(C.loknr),o({lat:C.lat,lng:C.lng}),c(12)},We=()=&gt;{if(!(_!=null&amp;&amp;_.features))return;const C=_.features.filter(b=&gt;{var J,K,D,Z,Y;const x=(((J=b.properties)==null?void 0:J.plassering)||"").toUpperCase(),F=(((K=b.properties)==null?void 0:K.vannmiljo)||"").toUpperCase(),P=(D=b.properties)==null?void 0:D.avgAdultFemaleLice,N=(((Z=b.properties)==null?void 0:Z.owner)||"").toLowerCase(),U=((Y=b.properties)==null?void 0:Y.diseases)||[];return!(h&amp;&amp;!N.includes(h.toLowerCase())||!(x==="SJ"||x===""&amp;&amp;F!=="FERSKVANN")||T!=="all"&amp;&amp;(T==="ok"&amp;&amp;(P==null||P&gt;=.08)||T==="warning"&amp;&amp;(P==null||P&lt;.08||P&gt;=.1)||T==="danger"&amp;&amp;(P==null||P&lt;.1))||R!=="all"&amp;&amp;(R==="any"&amp;&amp;U.length===0||R==="none"&amp;&amp;U.length&gt;0||R==="pd"&amp;&amp;!U.includes("PANKREASSYKDOM")||R==="ila"&amp;&amp;!U.includes("INFEKSIOES_LAKSEANEMI")||R==="bkd"&amp;&amp;!U.includes("BAKTERIELL_NYRESYKE")||R==="francisellose"&amp;&amp;!U.includes("FRANCISELLOSE")))}),O=["Lokalitetsnr","Navn","Kommune","Eier","Luseniv","Sykdommer","Breddegrad","Lengdegrad"],a=C.map(b=&gt;{var P;const x=b.properties||{},F=((P=b.geometry)==null?void 0:P.type)==="Point"?b.geometry.coordinates:[null,null];return[x.loknr||"",(x.name||"").replace(/,/g," "),(x.municipality||"").replace(/,/g," "),(x.owner||"").replace(/,/g," "),x.avgAdultFemaleLice!==null&amp;&amp;x.avgAdultFemaleLice!==void 0?x.avgAdultFemaleLice.toFixed(3):"",(x.diseases||[]).join("; "),F[1]||"",F[0]||""].join(",")}),I=[O.join(","),...a].join(`</span></span></span>
<span class="cstat-no" title="statement not covered" >`),S=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),w=URL.createObjectURL(S);E.setAttribute("href",w),E.setAttribute("download",`lokaliteter_uke${V}_${W}.csv`),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(w)};k.useEffect(()=&gt;{var O;const C=u||G;if(C&amp;&amp;(_!=null&amp;&amp;_.features)){const a=_.features.find(I=&gt;{var S,E;return((E=(S=I.properties)==null?void 0:S.loknr)==null?void 0:E.toString())===C.toString()});if((O=a==null?void 0:a.geometry)!=null&amp;&amp;O.coordinates)if(a.geometry.type==="Point"){const[I,S]=a.geometry.coordinates;o({lat:S,lng:I}),c(12)}else{const I=a.geometry.type==="MultiPolygon"?a.geometry.coordinates[0][0]:a.geometry.coordinates[0];if(I&amp;&amp;I.length&gt;0){const S=I.reduce((w,b)=&gt;w+b[0],0)/I.length,E=I.reduce((w,b)=&gt;w+b[1],0)/I.length;o({lat:E,lng:S}),c(12)}}}},[u,G]),k.useEffect(()=&gt;{ke()},[u]),k.useEffect(()=&gt;{A&amp;&amp;Ce()},[A]),k.useEffect(()=&gt;{console.log("Loading polygon boundaries from Fiskeridirektoratet..."),Ve()},[]),k.useEffect(()=&gt;{q&amp;&amp;!$&amp;&amp;qe()},[q]),k.useEffect(()=&gt;{ae&amp;&amp;!H&amp;&amp;Je()},[ae]),k.useEffect(()=&gt;{Ce(W,V),ke(W,V)},[W,V]);async function Ce(C=W,O=V){var a;try{const I=await fetch(`${se}/api/locality-boundaries?geometryType=point&amp;year=${C}&amp;week=${O}`);if(I.ok){const S=await I.json();e(S),console.log(`Loaded ${((a=S.features)==null?void 0:a.length)||0} localities for week ${O}/${C} from BarentsWatch`)}}catch(I){console.error("Failed to load locality data:",I),v("Kunne ikke laste lokalitetsdata. Sjekk internettforbindelsen."),setTimeout(()=&gt;v(null),5e3)}}async function Ve(){var C;try{const O=await fetch(`${se}/api/locality-polygons`);if(O.ok){const a=await O.json();i(a),console.log(`Loaded ${((C=a.features)==null?void 0:C.length)||0} real polygon boundaries from Fiskeridirektoratet`)}}catch(O){console.error("Failed to load polygon boundaries:",O)}}async function qe(){var C;try{const O=await fetch(`${se}/api/disease-zones`);if(O.ok){const a=await O.json();re(a),console.log(`Loaded ${((C=a.features)==null?void 0:C.length)||0} disease zones`)}}catch(O){console.error("Failed to load disease zones:",O)}}async function Je(){var C;try{const O=await fetch(`${se}/api/protected-areas`);if(O.ok){const a=await O.json();oe(a),console.log(`Loaded ${((C=a.features)==null?void 0:C.length)||0} protected areas`)}}catch(O){console.error("Failed to load protected areas:",O)}}async function ke(C=W,O=V){try{p.length===0?f(!0):j(!0);const I=`${se}/api/barentswatch/all-localities?year=${C}&amp;week=${O}`,S=await fetch(I);if(S.ok){const E=await S.json();g(E.localities||[])}f(!1),j(!1)}catch(a){console.error("Failed to load map data:",a),f(!1),j(!1)}}return d?n.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--bg, #0f172a)",borderRadius:"8px",gap:"16px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border, #334155)",borderTopColor:"var(--primary, #1e40af)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),n.jsx("div",{style:{color:"var(--text, #e2e8f0)",fontSize:"16px",fontWeight:500},children:"Laster kartdata..."}),n.jsx("div",{style:{color:"var(--text-secondary, #94a3b8)",fontSize:"13px"},children:"Henter lokaliteter fra BarentsWatch"})]}):n.jsxs("div",{style:{position:"relative",height:"100%"},children:[m&amp;&amp;n.jsxs("div",{style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,background:"rgba(220, 38, 38, 0.95)",color:"white",padding:"12px 24px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"12px",maxWidth:"400px"},children:[n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),n.jsx("span",{style:{flex:1,fontSize:"14px"},children:m}),n.jsx("button",{onClick:()=&gt;v(null),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"4px"},children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),y&amp;&amp;n.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:1e3,background:"rgba(30, 64, 175, 0.95)",color:"white",padding:"10px 16px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"10px",fontSize:"14px"},children:[n.jsx("div",{style:{width:"18px",height:"18px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Oppdaterer data..."]}),n.jsx(Wt,{localityBoundaries:_,week:V,year:W}),n.jsx(Xt,{showPolygons:A,setShowPolygons:z,showActualPolygons:B,setShowActualPolygons:M,filterStatus:T,setFilterStatus:pe,localityBoundaries:_,allLocalities:p,selectedCompany:h,showDiseaseZones:q,setShowDiseaseZones:Ue,showProtectedAreas:ae,setShowProtectedAreas:De,diseaseZones:$,protectedAreas:H,diseaseFilter:R,setDiseaseFilter:Ze,onExportCSV:We}),n.jsx(Yt,{localities:p,onSelect:He,localityBoundaries:_}),n.jsxs(vt,{center:[s.lat,s.lng],zoom:r,style:{height:"100%",width:"100%",borderRadius:"8px"},scrollWheelZoom:!0,zoomControl:!1,children:[n.jsx(Vt,{center:s,targetZoom:14}),n.jsx(qt,{onZoomChange:c}),n.jsx(Mt,{position:"bottomleft"}),n.jsx(Lt,{attribution:' &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt;',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ae&amp;&amp;((Se=H==null?void 0:H.features)==null?void 0:Se.map((C,O)=&gt;{if(!C.geometry)return null;const a=C.properties,I=((a==null?void 0:a.areaType)||"").toLowerCase();let S="#2E8B2E",E=null;(I.includes("dyrelivsfredning")||I.includes("dyreliv"))&amp;&amp;(S="#228B22",E="5,5");let w=[];try{C.geometry.type==="Polygon"?w=C.geometry.coordinates[0].map(b=&gt;[b[1],b[0]]):C.geometry.type==="MultiPolygon"&amp;&amp;(w=C.geometry.coordinates[0][0].map(b=&gt;[b[1],b[0]]))}catch{return null}return w.length===0?null:n.jsx(Ee,{positions:w,pathOptions:{fillColor:"#2E8B2E",fillOpacity:.1,color:S,weight:2,dashArray:E},children:n.jsx(ce,{children:n.jsxs("div",{style:{minWidth:"200px"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"14px",color:"#2E8B2E"},children:(a==null?void 0:a.name)||"Verneomrde"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",(a==null?void 0:a.areaType)||"Ukjent"]}),(a==null?void 0:a.establishedYear)&amp;&amp;n.jsxs("p",{children:[n.jsx("strong",{children:"Vernet:"})," ",a.establishedYear]}),(a==null?void 0:a.areaKm2)&amp;&amp;n.jsxs("p",{children:[n.jsx("strong",{children:"Areal:"})," ",a.areaKm2," km"]}),(a==null?void 0:a.municipality)&amp;&amp;n.jsxs("p",{children:[n.jsx("strong",{children:"Kommune:"})," ",a.municipality]}),(a==null?void 0:a.regulation)&amp;&amp;n.jsx("p",{style:{fontSize:"11px",color:"#666"},children:a.regulation})]})})},`protected-${(a==null?void 0:a.id)||O}`)})),q&amp;&amp;((be=$==null?void 0:$.features)==null?void 0:be.map((C,O)=&gt;{var N;const a=C.properties,I=((a==null?void 0:a.diseaseType)||"ILA").toUpperCase(),S=((a==null?void 0:a.zoneType)||"surveillance").toLowerCase(),E=((a==null?void 0:a.radiusKm)||10)*1e3;let w,b;if(a!=null&amp;&amp;a.center)w=a.center.lat,b=a.center.lng;else if(((N=C.geometry)==null?void 0:N.type)==="Point")b=C.geometry.coordinates[0],w=C.geometry.coordinates[1];else return null;let x="#D4A574",F=.4,P="#8B6914";return S==="protection"&amp;&amp;(x="#C98B4A",F=.5,P="#6B4423"),I==="PD"&amp;&amp;(x=S==="protection"?"#B87333":"#CD853F"),n.jsx(Ct,{center:[w,b],radius:E,pathOptions:{fillColor:x,fillOpacity:F,color:P,weight:2},children:n.jsx(ce,{children:n.jsxs("div",{style:{minWidth:"220px"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"14px",color:P},children:(a==null?void 0:a.name)||`${I}-sone`}),n.jsxs("p",{children:[n.jsx("strong",{children:"Sykdom:"})," ",I]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Sonetype:"})," ",S==="protection"?"Beskyttelsessone":"Overvkningssone"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Radius:"})," ",(a==null?void 0:a.radiusKm)||10," km"]}),(a==null?void 0:a.validFrom)&amp;&amp;n.jsxs("p",{children:[n.jsx("strong",{children:"Gyldig fra:"})," ",a.validFrom]}),(a==null?void 0:a.municipality)&amp;&amp;n.jsxs("p",{children:[n.jsx("strong",{children:"Kommune:"})," ",a.municipality]}),(a==null?void 0:a.regulation)&amp;&amp;n.jsxs("p",{style:{fontSize:"11px",color:"#666"},children:[n.jsx("strong",{children:"Forskrift:"})," ",a.regulation]})]})})},`disease-${(a==null?void 0:a.id)||O}`)})),B&amp;&amp;((je=t==null?void 0:t.features)==null?void 0:je.map((C,O)=&gt;{var x,F;if(!C.geometry||C.geometry.type==="Point")return null;const a=C.properties,I=(x=a==null?void 0:a.loknr)==null?void 0:x.toString(),S=I===((F=u||G)==null?void 0:F.toString()),E="#8ecae6",w="#219ebc";let b=[];try{C.geometry.type==="Polygon"?b=C.geometry.coordinates[0].map(P=&gt;[P[1],P[0]]):C.geometry.type==="MultiPolygon"&amp;&amp;(b=C.geometry.coordinates[0][0].map(P=&gt;[P[1],P[0]]))}catch{return null}return b.length===0?null:n.jsx(Ee,{positions:b,pathOptions:{fillColor:E,fillOpacity:S?.6:.4,color:w,weight:S?2:1},children:n.jsx(ce,{children:n.jsxs("div",{style:{minWidth:"200px"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:(a==null?void 0:a.navn)||(a==null?void 0:a.name)||"Ukjent"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Lok.nr:"})," ",a==null?void 0:a.loknr]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Eier:"})," ",(a==null?void 0:a.organisasjon)||(a==null?void 0:a.owner)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Kommune:"})," ",(a==null?void 0:a.kommune)||(a==null?void 0:a.municipality)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Fylke:"})," ",a==null?void 0:a.fylke]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",a==null?void 0:a.status_lokalitet]})]})})},`polygon-${I||O}`)})),A&amp;&amp;_&amp;&amp;(()=&gt;{var I;let C=null;if(u){const S=_.features.find(E=&gt;{var w,b;return((b=(w=E.properties)==null?void 0:w.loknr)==null?void 0:b.toString())===u.toString()});if(((I=S==null?void 0:S.geometry)==null?void 0:I.type)==="Point"){const[E,w]=S.geometry.coordinates;C={lat:w,lng:E}}}const a=_.features.filter(S=&gt;{var U,ie,J,K,D,Z,Y,le;const E=(((U=S.properties)==null?void 0:U.plassering)||"").toUpperCase(),w=(((ie=S.properties)==null?void 0:ie.vannmiljo)||"").toUpperCase(),b=(K=(J=S.properties)==null?void 0:J.loknr)==null?void 0:K.toString(),x=(D=S.properties)==null?void 0:D.avgAdultFemaleLice,F=(((Z=S.properties)==null?void 0:Z.owner)||"").toLowerCase();if(h&amp;&amp;!F.includes(h.toLowerCase()))return!1;if(u&amp;&amp;C){if(b===u.toString())return!0;if(((Y=S.geometry)==null?void 0:Y.type)==="Point"){const[de,ne]=S.geometry.coordinates,ge=6371,we=(ne-C.lat)*Math.PI/180,Me=(de-C.lng)*Math.PI/180,Ae=Math.sin(we/2)*Math.sin(we/2)+Math.cos(C.lat*Math.PI/180)*Math.cos(ne*Math.PI/180)*Math.sin(Me/2)*Math.sin(Me/2),Ye=2*Math.atan2(Math.sqrt(Ae),Math.sqrt(1-Ae));if(ge*Ye&gt;l)return!1}}if(!(E==="SJ"||E===""&amp;&amp;w!=="FERSKVANN")||T!=="all"&amp;&amp;(T==="ok"&amp;&amp;(x==null||x&gt;=.08)||T==="warning"&amp;&amp;(x==null||x&lt;.08||x&gt;=.1)||T==="danger"&amp;&amp;(x==null||x&lt;.1)))return!1;const N=((le=S.properties)==null?void 0:le.diseases)||[];return!(R!=="all"&amp;&amp;(R==="any"&amp;&amp;N.length===0||R==="none"&amp;&amp;N.length&gt;0||R==="pd"&amp;&amp;!N.includes("PANKREASSYKDOM")||R==="ila"&amp;&amp;!N.includes("INFEKSIOES_LAKSEANEMI")||R==="bkd"&amp;&amp;!N.includes("BAKTERIELL_NYRESYKE")||R==="francisellose"&amp;&amp;!N.includes("FRANCISELLOSE")))}).map((S,E)=&gt;{var de;if(((de=S.geometry)==null?void 0:de.type)!=="Point")return null;const[w,b]=S.geometry.coordinates,x=S.properties,F=x==null?void 0:x.avgAdultFemaleLice;x==null||x.status;const P=(x==null?void 0:x.diseases)||[],N=P.includes("PANKREASSYKDOM"),U=P.includes("INFEKSIOES_LAKSEANEMI"),ie=P.includes("BAKTERIELL_NYRESYKE"),J=P.includes("FRANCISELLOSE"),K=P.length&gt;0;let D="#6B7280",Z="#4B5563";U?(D="#20B2AA",Z="#178a82"):N?(D="#7B68EE",Z="#5a4fcf"):ie||J?(D="#FF6347",Z="#dc4a30"):x!=null&amp;&amp;x.isFallow&amp;&amp;(D="#9CA3AF",Z="#6B7280");const Y=F!=null?F.toFixed(2):"Ikke rapportert",le={PANKREASSYKDOM:"Pankreassykdom (PD)",INFEKSIOES_LAKSEANEMI:"Infeksis lakseanemi (ILA)",BAKTERIELL_NYRESYKE:"Bakteriell nyresyke (BKD)",FRANCISELLOSE:"Francisellose"};return n.jsx(wt,{center:[b,w],radius:Jt(r,K),pathOptions:{fillColor:D,fillOpacity:.7,color:Z,weight:r&lt;=8?1:K?3:2},children:n.jsx(ce,{children:n.jsxs("div",{style:{minWidth:"220px"},children:[n.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"15px"},children:(x==null?void 0:x.name)||"Ukjent lokalitet"}),n.jsxs("div",{style:{fontSize:"13px",lineHeight:1.8},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Lokalitetsnr:"})," ",(x==null?void 0:x.loknr)||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Kommune:"})," ",(x==null?void 0:x.municipality)||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Eier:"})," ",(x==null?void 0:x.owner)||"Ukjent"]}),n.jsx("hr",{style:{margin:"8px 0",border:"none",borderTop:"1px solid #ddd"}}),n.jsxs("p",{children:[n.jsx("strong",{children:"Luseniv:"})," ",n.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:Y})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",(x==null?void 0:x.status)||"UKJENT"]}),(x==null?void 0:x.isFallow)&amp;&amp;n.jsx("p",{style:{color:"#444"},children:n.jsx("em",{children:"Brakklagt"})}),(x==null?void 0:x.hasReported)===!1&amp;&amp;n.jsx("p",{style:{color:"#f44336"},children:n.jsx("em",{children:"Ikke rapportert denne uken"})}),K&amp;&amp;n.jsxs(n.Fragment,{children:[n.jsx("hr",{style:{margin:"8px 0",border:"none",borderTop:"1px solid #ddd"}}),n.jsx("p",{style:{fontWeight:"bold",color:"#d32f2f"},children:"Sykdomsstatus:"}),P.map((ne,ge)=&gt;n.jsxs("p",{style:{margin:"2px 0",color:U?"#20B2AA":N?"#7B68EE":"#FF6347"},children:[" ",le[ne]||ne]},ge))]})]})]})})},`point-${(x==null?void 0:x.loknr)||E}`)});return r&lt;=9&amp;&amp;a.length&gt;50?n.jsx(Ht,{chunkedLoading:!0,maxClusterRadius:60,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:S=&gt;{const E=S.getChildCount();let w="small",b="#4CAF50";return E&gt;100?(w="large",b="#1565c0"):E&gt;30&amp;&amp;(w="medium",b="#2196F3"),ue.divIcon({html:`&lt;div style="</span>
<span class="cstat-no" title="statement not covered" >                      background: ${b};</span>
<span class="cstat-no" title="statement not covered" >                      color: white;</span>
<span class="cstat-no" title="statement not covered" >                      border-radius: 50%;</span>
<span class="cstat-no" title="statement not covered" >                      width: ${w==="large"?50:w==="medium"?40:30}px;</span>
<span class="cstat-no" title="statement not covered" >                      height: ${w==="large"?50:w==="medium"?40:30}px;</span>
<span class="cstat-no" title="statement not covered" >                      display: flex;</span>
<span class="cstat-no" title="statement not covered" >                      align-items: center;</span>
<span class="cstat-no" title="statement not covered" >                      justify-content: center;</span>
<span class="cstat-no" title="statement not covered" >                      font-weight: bold;</span>
<span class="cstat-no" title="statement not covered" >                      font-size: ${w==="large"?14:12}px;</span>
<span class="cstat-no" title="statement not covered" >                      box-shadow: 0 2px 6px rgba(0,0,0,0.3);</span>
<span class="cstat-no" title="statement not covered" >                    "&gt;${E}&lt;/div&gt;`,className:"custom-cluster-icon",iconSize:ue.point(w==="large"?50:w==="medium"?40:30,w==="large"?50:w==="medium"?40:30)})},children:a}):a})()]},`map-${s.lat.toFixed(4)}-${s.lng.toFixed(4)}`),n.jsx(Qt,{selectedYear:W,selectedWeek:V,onYearChange:Ge,onWeekChange:Ke})]})}const me="http://localhost:3000";function ni(){const{t:u,language:h}=Xe(),[p,g]=k.useState([]),[_,e]=k.useState(""),[t,i]=k.useState([]),[s,o]=k.useState([]),[l,r]=k.useState(null),[c,d]=k.useState(!0);k.useEffect(()=&gt;{f(),y()},[]),k.useEffect(()=&gt;{_?j(_):i(s)},[_,s]);async function f(){try{const v=await(await fetch(`${me}/api/companies`)).json();g(v.companies||[])}catch(m){console.error("Failed to load companies:",m)}}async function y(){try{const A=(await(await fetch(`${me}/api/locality-boundaries`)).json()).features.map(z=&gt;({id:z.properties.loknr.toString(),name:z.properties.name,loknr:z.properties.loknr}));A.sort((z,B)=&gt;z.name.localeCompare(B.name)),o(A),i(A),d(!1)}catch(m){console.error("Failed to load locations:",m),d(!1)}}async function j(m){try{const B=((await(await fetch(`${me}/api/companies/${encodeURIComponent(m)}/sites`)).json()).sites||[]).map(M=&gt;({id:M.loknr.toString(),name:M.name,loknr:M.loknr}));i(B)}catch(v){console.error("Failed to load company locations:",v),i(s)}}return n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 80px)",padding:"0 16px 16px 16px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",padding:"12px 0",flexWrap:"wrap",borderBottom:"1px solid var(--border)",marginBottom:"12px"},children:[n.jsx("div",{children:n.jsx("h1",{style:{margin:0,fontSize:"20px"},children:u("map.title")})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("label",{htmlFor:"company-select",style:{fontSize:"13px",fontWeight:500,whiteSpace:"nowrap"},children:[u("map.selectCompany"),":"]}),n.jsxs("select",{id:"company-select",value:_,onChange:m=&gt;{e(m.target.value),r(null)},style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid var(--border)",fontSize:"13px",minWidth:"200px",background:"var(--bg)",color:"var(--text)"},children:[n.jsx("option",{value:"",children:u("map.allCompanies")}),p.map(m=&gt;n.jsxs("option",{value:m.name,children:[m.name," (",m.count,")"]},m.name))]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("label",{htmlFor:"location-select",style:{fontSize:"13px",fontWeight:500,whiteSpace:"nowrap"},children:[u("map.selectLocation"),":"]}),n.jsxs("select",{id:"location-select",value:l||"",onChange:m=&gt;r(m.target.value||null),style:{padding:"6px 10px",borderRadius:"6px",border:"1px solid var(--border)",fontSize:"13px",minWidth:"220px",background:"var(--bg)",color:"var(--text)"},children:[n.jsx("option",{value:"",children:u("map.allLocations")}),t.map(m=&gt;n.jsx("option",{value:m.id,children:m.name},m.id))]})]}),_&amp;&amp;n.jsxs("span",{style:{fontSize:"12px",color:"var(--muted)"},children:[t.length," ",u("map.locations")]}),n.jsx("a",{href:"/mine-anlegg",style:{marginLeft:"auto",padding:"8px 16px",backgroundColor:"#1e3a5f",color:"white",borderRadius:"6px",textDecoration:"none",fontSize:"13px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:"Mine anlegg"})]}),n.jsx("div",{style:{flex:1,minHeight:0,position:"relative"},children:c?n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:u("common.loading")}):n.jsx($t,{selectedLocation:l,selectedCompany:_})})]})}export{ni as default};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2026-02-11T16:07:30.331Z
            </div>
        <script src="../../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../../sorter.js"></script>
        <script src="../../../../../../../block-navigation.js"></script>
    </body>
</html>
    